{% extends 'base.html' %}
{% load notification_tags staticfiles %}

{% block content %}
<div class="notification-box-list">
{% for notification in notifications %}
<li data-nf-id="{{ notification.id }}"
class="notification list-group-item {{ notification.read|yesno:'read,unread' }}">
    {% if notification.actor.team_name == request.user.first_name %}
    You {{ notification.verb }} <a href="{% url 'team' notification.recipient.first_name %}">{{ notification.recipient.first_name }}</a>
    {% else %}
    <a href="{% url 'team' notification.actor %}">{{ notification.actor }}</a> {{ notification.verb }}
    {% endif %}
    <span class="timesince">{{ notification.created|timesince }} ago</span>

    <button data-id="{{ notification.id }}" class="mark-notification"
        data-mark-action="{{ notification.read|yesno:'unread,read' }}"
        data-toggle-text="Mark as {{ notification.read|yesno:_('read,unread') }}">

        Mark as {{ notification.read|yesno:'unread,read' }}

    </button>
    <button class="delete-notification" data-id="{{ notification.id }}">X</button>
</li>
{% endfor %}
<p style="margin:50px 0px 0px 550px;">View current challenges on your team page!</p>
</div>
{% include_notify_js_variables %}
<script src="{% static "notify/notifyX.min.js" %}"></script>
{% endblock %}
